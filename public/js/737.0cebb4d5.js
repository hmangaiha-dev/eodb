"use strict";(self["webpackChunkquasar_frontend"]=self["webpackChunkquasar_frontend"]||[]).push([[737],{737:(e,s,o)=>{o.r(s),o.d(s,{default:()=>V});var t=o(3673);const l={class:"row q-mt-lg justify-center"},a={class:"col-md-6 col-xs-10 col-sm-8 col-lg-3 col-md-3"},r=(0,t.Wm)("p",{class:"text-h6 text-weight-regular q-mt-md text-center"},"Login",-1),n=(0,t.Uk)(" Forgot password? "),u=(0,t.Wm)("br",null,null,-1),d=(0,t.Uk)(" Register as new membership ");function m(e,s,o,m,c,i){const p=(0,t.up)("q-input"),g=(0,t.up)("q-card-section"),h=(0,t.up)("q-checkbox"),b=(0,t.up)("q-space"),w=(0,t.up)("q-btn"),f=(0,t.up)("router-link"),q=(0,t.up)("q-card"),W=(0,t.up)("q-form"),y=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)("div",l,[(0,t.Wm)("div",a,[(0,t.Wm)(W,{class:"bg-green",onSubmit:m.submit,onReset:m.reset},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{flat:"",bordered:""},{default:(0,t.w5)((()=>[r,(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{rules:[e=>e&&e.length>0||"Please type something"],modelValue:m.loginData.email,"onUpdate:modelValue":s[1]||(s[1]=e=>m.loginData.email=e),label:"Email",outlined:""},null,8,["rules","modelValue"]),(0,t.Wm)(p,{rules:[e=>e&&e.length>0||"Please type something"],modelValue:m.loginData.password,"onUpdate:modelValue":s[2]||(s[2]=e=>m.loginData.password=e),label:"Password",outlined:""},null,8,["rules","modelValue"])])),_:1}),(0,t.Wm)(g,{style:{display:"flex"},class:"q-py-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{"right-label":"",modelValue:m.remember,"onUpdate:modelValue":s[3]||(s[3]=e=>m.remember=e),label:"Remember me"},null,8,["modelValue"]),(0,t.Wm)(b),(0,t.Wm)(w,{outline:"",padding:"sm",type:"submit",color:"primary",label:"Login",class:"q-mr-md"}),(0,t.Wm)(w,{padding:"sm",type:"reset",color:"red",label:"Reset"})])),_:1}),(0,t.Wm)(g,{class:"q-py-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{style:{"text-decoration":"none",color:"#3c8dbc"},class:"q-mb-md",to:"/reset-password"},{default:(0,t.w5)((()=>[n])),_:1}),u])),_:1}),(0,t.Wm)(g,{class:"q-py-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{style:{"text-decoration":"none",color:"#3c8dbc"},class:"q-mt-lg",to:"/register"},{default:(0,t.w5)((()=>[d])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit","onReset"])])])])),_:1})}var c=o(8825),i=o(1959),p=o(5474),g=o(7874),h=o(9582);const b={setup(e,s){const o=(0,h.tv)(),t=(0,h.yj)(),l=(0,g.oR)(),a=(0,c.Z)(),r=(0,i.qj)({email:"investor@email.com",password:"password"});return{loginData:r,remember:(0,i.iH)(!0),submit:()=>{p.api.post("/auth/login",r).then((e=>{const{token:s,currentUser:a}=e.data;console.log("current user",a),l.dispatch("investor/setCurrentUser",a),l.dispatch("investor/setToken",s),console.log("login response",e.data),o.push(t.redirectedFrom||"/")})).catch((e=>{console.log("error post response",e.response.data.message),e.response.data.message&&a.notify({type:"negative",position:"top",icon:"warnings",color:"red-4",message:e.response.data.message})}))},storeUser:()=>{console.log("store user",l.state.investor.currentUser)},getUser:()=>{console.log("bearer value",p.api.defaults.headers.Authorization),p.api.get("/user").then((e=>{console.log("user ok response",e.data)})).catch((e=>{console.log("error response",e)}))},reset:()=>{console.log("reset"),r.email=r.password=""},logout:()=>{p.api.defaults.headers.Authorization=""},handleLogout:e=>{p.api.post("auth/investor/logout").then((e=>{l.dispatch("investor/setToken",null),l.dispatch("investor/setCurrentUser",null)})).catch((e=>console.log(e)))}}}};var w=o(4379),f=o(5269),q=o(151),W=o(5589),y=o(4689),v=o(5735),k=o(2025),x=o(2165),U=o(7518),_=o.n(U);b.render=m;const V=b;_()(b,"components",{QPage:w.Z,QForm:f.Z,QCard:q.Z,QCardSection:W.Z,QInput:y.Z,QCheckbox:v.Z,QSpace:k.Z,QBtn:x.Z})}}]);