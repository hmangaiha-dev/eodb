"use strict";(self["webpackChunkquasar_frontend"]=self["webpackChunkquasar_frontend"]||[]).push([[2894],{2894:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});t(7280);var l=t(3673),i=t(2323);const n=(0,l.Wm)("p",{class:"zsubtitle"},"Application profiles",-1),o={class:"row q-col-gutter-md"},s={class:"flex justify-between flex-inline col-12"},p={class:"col-12"},d={class:"col-12"},u={class:"flex flex-inline q-gutter-sm"},c={class:"col-12"};function r(e,a,t,r,m,g){const v=(0,l.up)("q-icon"),f=(0,l.up)("q-input"),h=(0,l.up)("q-separator"),D=(0,l.up)("q-item-label"),w=(0,l.up)("q-item-section"),W=(0,l.up)("q-toggle"),_=(0,l.up)("q-item"),y=(0,l.up)("q-list"),q=(0,l.up)("q-pagination"),b=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(b,{class:"container-lg",padding:""},{default:(0,l.w5)((()=>[n,(0,l.Wm)("div",null,[(0,l.Wm)("div",o,[(0,l.Wm)("div",s,[(0,l.Wm)(f,{modelValue:r.localData.search,"onUpdate:modelValue":a[1]||(a[1]=e=>r.localData.search=e),placeholder:"Search",onKeyup:r.handleSearch,outlined:"",dense:""},{append:(0,l.w5)((()=>[(0,l.Wm)(v,{name:"search"})])),_:1},8,["modelValue","onKeyup"])]),(0,l.Wm)("div",p,[(0,l.Wm)(h)]),(0,l.Wm)("div",d,[(0,l.Wm)(y,{separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(r.localData.listData.data,(e=>((0,l.wg)(),(0,l.j4)(_,{key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.title),1)])),_:2},1024),(0,l.Wm)(D,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.code),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(w,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)("div",u,[(0,l.Wm)(W,{"model-value":e.published,"left-label":"",onClick:a=>r.publish(e),label:"published?"},null,8,["model-value","onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,l.Wm)("div",c,[(0,l.Wm)(q,{"onUpdate:modelValue":[r.updatePagination,a[2]||(a[2]=e=>r.localData.listData.current_page=e)],modelValue:r.localData.listData.current_page,max:r.pageCount,input:""},null,8,["onUpdate:modelValue","modelValue","max"])])])])])),_:1})}var m=t(1959),g=t(954),v=t(5474),f=t(8825),h=t(4224);const D={components:{Edit:h.default,Create:g.default},setup(e,a){const t=(0,f.Z)(),i=(0,m.qj)({openCreate:!1,openEdit:!1,selectedStaff:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1}}),n=e=>{v.api.delete(`application-profiles/process-flows/${e}`).then((e=>{var a;i.listData=e.data.list,t.notify({type:"positive",message:null===(a=e.data)||void 0===a?void 0:a.message})})).catch((e=>{var a,l;t.notify({type:"negative",message:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message})}))},o=e=>{i.selectedStaff=e,i.openEdit=!0},s=e=>{t.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk((()=>{n(e.id)})).onCancel((()=>{})).onDismiss((()=>{}))},p=e=>{i.search=e.target.value,13===e.keyCode&&c(1)},d=e=>{c(e)},u=e=>{v.api.put(`application-profiles/${e.id}/toggle`).then((e=>{var a;t.notify({type:"positive",message:null===(a=e.data)||void 0===a?void 0:a.message})})).catch((e=>{var a;let l=null!==e&&void 0!==e&&e.response?null===(a=e.response)||void 0===a?void 0:a.message:e.toString();t.notify({type:"negative",message:l})}))},c=e=>{v.api.get(`application-profiles/index?page=${e}`,{params:{search:i.search}}).then((e=>{const{current_page:a,total:t,per_page:l,data:n}=e.data.list;i.listData.current_page=a,i.listData.data=n,i.listData.total=t,i.listData.per_page=l})).catch((e=>{var a;let l=null!==e&&void 0!==e&&e.response?null===(a=e.response)||void 0===a?void 0:a.message:e.toString();t.notify({type:"negative",message:l})}))};return(0,l.bv)((()=>c(i.listData.page))),{updatePagination:d,pageCount:(0,m.Fl)((()=>Math.ceil(i.listData.total/i.listData.per_page))),deleteFlow:n,localData:i,handleSearch:p,handleEdit:o,publish:u,handleDelete:s}}};var w=t(4379),W=t(4689),_=t(4554),y=t(5869),q=t(7011),b=t(3414),k=t(2035),Z=t(2350),C=t(8886),Q=t(2165),S=t(7300),x=t(7518),V=t.n(x);D.render=r;const j=D;V()(D,"components",{QPage:w.Z,QInput:W.Z,QIcon:_.Z,QSeparator:y.Z,QList:q.Z,QItem:b.Z,QItemSection:k.Z,QItemLabel:Z.Z,QToggle:C.Z,QBtn:Q.Z,QPagination:S.Z})}}]);