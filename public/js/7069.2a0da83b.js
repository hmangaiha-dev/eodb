"use strict";(self["webpackChunkquasar_frontend"]=self["webpackChunkquasar_frontend"]||[]).push([[7069],{7069:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});l(7280);var t=l(3673),o=l(2323);const n=(0,t.Wm)("p",{class:"zsubtitle"},"Process flows",-1),i={class:"row q-col-gutter-md"},s={class:"flex justify-between flex-inline col-12"},p={class:"col-12"},d={class:"col-12"},r={class:"flex flex-inline q-gutter-sm"},c={class:"col-12"};function u(e,a,l,u,m,g){const v=(0,t.up)("q-btn"),w=(0,t.up)("q-icon"),f=(0,t.up)("q-input"),D=(0,t.up)("q-separator"),h=(0,t.up)("q-item-label"),_=(0,t.up)("q-item-section"),W=(0,t.up)("q-item"),y=(0,t.up)("q-list"),q=(0,t.up)("q-pagination"),k=(0,t.up)("Detail"),b=(0,t.up)("q-dialog"),Z=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(Z,{class:"container-lg",padding:""},{default:(0,t.w5)((()=>[n,(0,t.Wm)("div",null,[(0,t.Wm)("div",i,[(0,t.Wm)("div",s,[(0,t.Wm)(v,{to:{name:"process-flows:create"},outline:"",label:"New process flow",color:"primary"}),(0,t.Wm)(f,{modelValue:u.localData.search,"onUpdate:modelValue":a[1]||(a[1]=e=>u.localData.search=e),placeholder:"Search",onKeyup:u.handleSearch,outlined:"",dense:""},{append:(0,t.w5)((()=>[(0,t.Wm)(w,{name:"search"})])),_:1},8,["modelValue","onKeyup"])]),(0,t.Wm)("div",p,[(0,t.Wm)(D)]),(0,t.Wm)("div",d,[(0,t.Wm)(y,{separator:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(u.localData.listData.data,(e=>((0,t.wg)(),(0,t.j4)(W,{key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.title),1)])),_:2},1024),(0,t.Wm)(h,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.code),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(_,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)("div",r,[(0,t.Wm)(v,{onClick:a=>u.viewDetail(e),size:"12px",outline:"",icon:"preview"},null,8,["onClick"]),(0,t.Wm)(v,{onClick:a=>u.handleDelete(e),size:"12px",outline:"",icon:"delete"},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,t.Wm)("div",c,[(0,t.Wm)(q,{"onUpdate:modelValue":[u.updatePagination,a[2]||(a[2]=e=>u.localData.listData.current_page=e)],modelValue:u.localData.listData.current_page,max:u.pageCount,input:""},null,8,["onUpdate:modelValue","modelValue","max"])])]),(0,t.Wm)(b,{modelValue:u.localData.openFlow,"onUpdate:modelValue":a[3]||(a[3]=e=>u.localData.openFlow=e)},{default:(0,t.w5)((()=>{var e,a;return[(0,t.Wm)(k,{application_name:null===(e=u.localData.selectedFlow)||void 0===e?void 0:e.title,flows:null===(a=u.localData.selectedFlow)||void 0===a?void 0:a.process_flows},null,8,["application_name","flows"])]})),_:1},8,["modelValue"])])])),_:1})}var m=l(1959),g=l(954),v=l(5474),w=l(8825),f=l(4224);const D=(0,t.Wm)("h1",{class:"zsubtitle"},"Application process flow",-1),h={class:"zlabel"},_=(0,t.Wm)("br",null,null,-1),W={class:"zlabel q-ma-xs"},y={class:"text-primary"},q={class:"text-black"};function k(e,a,l,n,i,s){const p=(0,t.up)("q-timeline-entry"),d=(0,t.up)("q-timeline"),r=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(r,{class:"q-pa-lg"},{default:(0,t.w5)((()=>{var a;return[D,(0,t.Wm)("h6",h,(0,o.zw)(null===(a=e.$props)||void 0===a?void 0:a.application_name),1),_,(0,t.Wm)(d,{color:"secondary"},{default:(0,t.w5)((()=>{var a;return[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(null===(a=e.$props)||void 0===a?void 0:a.flows,((e,a)=>((0,t.wg)(),(0,t.j4)(p,{key:a,icon:"person"},{title:(0,t.w5)((()=>[(0,t.Wm)("p",W,(0,o.zw)("Expected holding hours "+(null===e||void 0===e?void 0:e.duration)+" Hrs"),1)])),subtitle:(0,t.w5)((()=>[(0,t.Wm)("p",y,[(0,t.Uk)("Step : "+(0,o.zw)(a+1)+" Dealing assistant : ",1),(0,t.Wm)("span",q,(0,o.zw)(e.dealing),1)])])),_:2},1024)))),128))]})),_:1})]})),_:1})}const b={props:["application_name","flows"],setup(e,a){return{}}};var Z=l(151),Q=l(1432),C=l(3424),x=l(7518),z=l.n(x);b.render=k;const F=b;z()(b,"components",{QCard:Z.Z,QTimeline:Q.Z,QTimelineEntry:C.Z});const S={components:{Detail:F,Edit:f.default,Create:g.default},setup(e,a){const l=(0,w.Z)(),o=(0,m.qj)({openCreate:!1,openEdit:!1,selectedStaff:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1},openFlow:!1,selectedFlow:{}}),n=e=>{v.api.delete(`application-profiles/process-flows/${e}`).then((e=>{var a;o.listData=e.data.list,l.notify({type:"positive",message:null===(a=e.data)||void 0===a?void 0:a.message})})).catch((e=>{var a,t;l.notify({type:"negative",message:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message})}))},i=e=>{o.selectedStaff=e,o.openEdit=!0},s=e=>{l.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk((()=>{n(e.id)})).onCancel((()=>{})).onDismiss((()=>{}))},p=e=>{o.search=e.target.value,13===e.keyCode&&u(1)},d=e=>{u(e)},r=e=>{v.api.put(`application-profiles/${e.id}/toggle`).then((e=>{var a;const{current_page:t,total:n,per_page:i,data:s}=e.data.list;o.listData.current_page=t,o.listData.data=s,o.listData.total=n,l.notify({type:"positive",message:null===(a=e.data)||void 0===a?void 0:a.message})})).catch((e=>{var a;let t=null!==e&&void 0!==e&&e.response?null===(a=e.response)||void 0===a?void 0:a.message:e.toString();l.notify({type:"negative",message:t})}))},c=e=>{console.log(e),o.openFlow=!0,o.selectedFlow=e},u=e=>{v.api.get(`application-profiles/flows?page=${e}`,{params:{search:o.search}}).then((e=>{const{current_page:a,total:l,per_page:t,data:n}=e.data.list;o.listData.current_page=a,o.listData.data=n,o.listData.total=l,o.listData.per_page=t})).catch((e=>{var a;let t=null!==e&&void 0!==e&&e.response?null===(a=e.response)||void 0===a?void 0:a.message:e.toString();l.notify({type:"negative",message:t})}))};return(0,t.bv)((()=>u(o.listData.page))),{updatePagination:d,pageCount:(0,m.Fl)((()=>Math.ceil(o.listData.total/o.listData.per_page))),deleteFlow:n,localData:o,handleSearch:p,handleEdit:i,publish:r,handleDelete:s,viewDetail:c}}};var V=l(4379),j=l(2165),U=l(4689),E=l(4554),I=l(5869),P=l(7011),$=l(3414),K=l(2035),H=l(2350),T=l(8886),L=l(7300),Y=l(6778);S.render=u;const A=S;z()(S,"components",{QPage:V.Z,QBtn:j.Z,QInput:U.Z,QIcon:E.Z,QSeparator:I.Z,QList:P.Z,QItem:$.Z,QItemSection:K.Z,QItemLabel:H.Z,QToggle:T.Z,QPagination:L.Z,QDialog:Y.Z})}}]);