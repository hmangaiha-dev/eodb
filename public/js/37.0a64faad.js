"use strict";(self["webpackChunkquasar_frontend"]=self["webpackChunkquasar_frontend"]||[]).push([[37],{37:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Z});var s=a(3673);const o=(0,s.Wm)("h1",{class:"ztitle"},"Edit profile",-1),t=(0,s.Wm)("br",null,null,-1),n=(0,s.Wm)("div",{class:"col-xs-12 zsubtitle"},"Profile details",-1),i=(0,s.Wm)("div",{class:"col-xs-3"},"Name",-1),d={class:"col-xs-9"},r=(0,s.Wm)("div",{class:"col-xs-3"},"Email",-1),m={class:"col-xs-9"},p=(0,s.Wm)("div",{class:"col-xs-3"},"Phone",-1),u={class:"col-xs-9"},c=(0,s.Wm)("div",{class:"col-xs-3"},"Password",-1),f={class:"col-xs-9"},v=(0,s.Wm)("div",{class:"col-xs-3"},"Confirm Password",-1),w={class:"col-xs-9"},g={class:"col-xs-12"};function x(e,l,a,x,W,h){const b=(0,s.up)("q-input"),y=(0,s.up)("q-btn"),V=(0,s.up)("q-form"),_=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(_,{class:"container-lg"},{default:(0,s.w5)((()=>[o,t,(0,s.Wm)(V,{onSubmit:x.submit,onReset:x.reset,class:"zcard row q-col-gutter-md"},{default:(0,s.w5)((()=>[n,i,(0,s.Wm)("div",d,[(0,s.Wm)(b,{style:{"max-width":"260px"},modelValue:x.profile.full_name,"onUpdate:modelValue":l[1]||(l[1]=e=>x.profile.full_name=e),outlined:"",dense:""},null,8,["modelValue"])]),r,(0,s.Wm)("div",m,[(0,s.Wm)(b,{disable:"",style:{"max-width":"260px"},modelValue:x.profile.email,"onUpdate:modelValue":l[2]||(l[2]=e=>x.profile.email=e),outlined:"",dense:""},null,8,["modelValue"])]),p,(0,s.Wm)("div",u,[(0,s.Wm)(b,{style:{"max-width":"260px"},modelValue:x.profile.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>x.profile.phone=e),outlined:"",dense:""},null,8,["modelValue"])]),c,(0,s.Wm)("div",f,[(0,s.Wm)(b,{style:{"max-width":"260px"},type:"password",modelValue:x.profile.password,"onUpdate:modelValue":l[4]||(l[4]=e=>x.profile.password=e),hint:"Leave blank to use current password",outlined:"",dense:""},null,8,["modelValue"])]),v,(0,s.Wm)("div",w,[(0,s.Wm)(b,{style:{"max-width":"260px"},type:"password",modelValue:x.profile.password_confirmation,"onUpdate:modelValue":l[5]||(l[5]=e=>x.profile.password_confirmation=e),rules:[e=>e===x.profile.password||"Password must match"],outlined:"",dense:""},null,8,["modelValue","rules"])]),(0,s.Wm)("div",g,[(0,s.Wm)(y,{type:"submit",color:"primary",label:"Save"}),(0,s.Wm)(y,{onClick:l[6]||(l[6]=l=>e.$router.back()),color:"negative",flat:"",label:"Cancel"})])])),_:1},8,["onSubmit","onReset"])])),_:1})}var W=a(5474),h=a(1959),b=a(8825),y=a(9582);const V={setup(e,l){const a=(0,b.Z)(),o=(0,y.tv)(),t=(0,h.iH)({}),n=(0,h.qj)({full_name:"",email:"",phone:"",password:"",password_confirmation:""}),i=e=>{W.api.put("investor/profile",n).then((e=>{console.log("profile update",e.data.message),a.notify({type:"positive",message:e.data.message}),o.back()})).catch((e=>{console.log("error profile",e.response.data.message),e.response.data.message&&a.notify({type:"negative",position:"top",icon:"warnings",color:"red-4",message:e.response.data.message})}))},d=e=>{n.fullname=t.value.full_name,n.mobile=t.value.mobile,n.password="",n.password_confirmation=""};return(0,s.bv)((()=>{W.api.get("investor/profile").then((e=>{const{full_name:l,email:a,phone:s}=e.data.data;console.log("profile data",e.data.data),t.value=e.data.data,n.full_name=l,n.email=a,n.phone=s})).catch((e=>{console.log(e),e.response.data.message&&a.notify({type:"negative",position:"top",icon:"warnings",color:"red-4",message:e.response.data.message})}))})),{submit:i,reset:d,profile:n}}};var _=a(4379),k=a(5269),q=a(4689),P=a(2165),C=a(7518),U=a.n(C);V.render=x;const Z=V;U()(V,"components",{QPage:_.Z,QForm:k.Z,QInput:q.Z,QBtn:P.Z})}}]);